{% extends TEMPLATE_BASE %}
{% load i18n %}

{% block title %}{% blocktrans with name=election.name %}Adicionar administrador - {{name}}{% endblocktrans %}{% endblock %}

{% block content %}
  <h3 class="title">{{election.name}} &mdash; Adicionar administrador <span style="font-size:0.7em;">[<a href="{% url "election@admins" election.uuid %}">cancelar</a>]</span></h3>

{% if matching_users %}
<p>
    {% blocktrans with email=email %}Vários usuários foram encontrados com o email <strong>{{email}}</strong>. Selecione qual deles deseja adicionar:{% endblocktrans %}
</p>

<form method="post" action="">
<input type="hidden" name="csrf_token" value="{{csrf_token}}" />
<input type="hidden" name="email" value="{{email}}" />
<ul>
{% for user in matching_users %}
<li>
  <label>
    <input type="radio" name="auth_type" value="{{user.user_type}}" {% if forloop.first %}checked{% endif %} />
    {{user.display_html_small|safe}} ({{user.user_type}})
  </label>
</li>
{% endfor %}
</ul>
<br />
<input class="button" type="submit" value="Adicionar administrador selecionado" />
</form>

{% else %}

<p>
    {% blocktrans %}Adicione outro administrador a esta eleição. O novo administrador terá os mesmos privilégios que você,
    incluindo a capacidade de gerenciar eleitores, perguntas, trustees e outras configurações.{% endblocktrans %}
</p>

<p>
    <em>Observação: o usuário precisa ter feito login no Helios pelo menos uma vez antes de poder ser adicionado como administrador.</em>
</p>

{% if error %}
<p style="color: red; font-weight: bold;">
  {{error}}
</p>
{% endif %}

<form method="post" action="">
<input type="hidden" name="csrf_token" value="{{csrf_token}}" />
Email: <input type="text" name="email" size="60" /><br /><br />

<input class="button" type="submit" value="Adicionar administrador" />
</form>

{% endif %}

{% endblock %}
